# 🚀 Soul Comfort 部署检查清单

## 环境配置检查

### ✅ 必需的环境变量
- [ ] `ZHIPU_API_KEY` - 智谱AI API密钥
- [ ] `NEXT_PUBLIC_APP_URL` - 应用基础URL
- [ ] `NODE_ENV` - 运行环境 (production)

### ✅ 可选但推荐的环境变量
- [ ] `ADMIN_KEY` - 管理员访问密钥
- [ ] `PAYPAL_CLIENT_ID` - PayPal客户端ID
- [ ] `PAYPAL_CLIENT_SECRET` - PayPal客户端密钥
- [ ] `SUPABASE_*` - 数据库配置
- [ ] `FREE_USAGE_LIMIT` - 免费使用限制

### ✅ 安全检查
- [ ] 所有敏感文件已添加到 `.gitignore`
- [ ] 生产环境使用强随机密钥
- [ ] API密钥已在生产环境中设置
- [ ] 数据库连接使用SSL
- [ ] 启用了CORS保护

### ✅ 功能测试
- [ ] AI聊天功能正常工作
- [ ] 支付流程可以正常跳转
- [ ] 多语言切换正常
- [ ] 使用限制功能正常
- [ ] 管理员面板可访问

### ✅ 性能优化
- [ ] 静态资源已优化
- [ ] 图片已压缩
- [ ] 启用了缓存
- [ ] 数据库查询已优化

## 部署命令

```bash
# 1. 检查环境配置
npm run env:check

# 2. 运行测试
npm run lint

# 3. 构建应用
npm run build

# 4. 部署到生产环境
# (根据你的部署平台执行相应命令)
```

## 部署后验证

### ✅ 基础功能
- [ ] 网站可以正常访问
- [ ] 首页加载正常
- [ ] AI聊天功能工作
- [ ] 语言切换正常

### ✅ 安全验证
- [ ] 环境变量未暴露在客户端
- [ ] API端点有适当的限制
- [ ] 错误信息不包含敏感信息

### ✅ 监控设置
- [ ] 错误监控已配置
- [ ] 性能监控已启用
- [ ] 日志记录正常工作

## 紧急回滚计划

如果部署出现问题：

1. **立即回滚到上一个稳定版本**
2. **检查错误日志**
3. **验证环境变量配置**
4. **联系技术支持**

## 联系信息

- 技术负责人: [你的联系方式]
- 紧急联系: [紧急联系方式]
- 文档地址: [项目文档链接]